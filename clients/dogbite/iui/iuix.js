(function(){var _1=20;var _2=0;var _3=null;var _4=null;var _5=0;var _6=0;var _7=location.hash;var _8="#_";var _9=[];var _a=0;var _b;var _c=false;var _d="portrait";var _e="landscape";window.iui={animOn:true,httpHeaders:{"X-Requested-With":"XMLHttpRequest"},showPage:function(_f,_10){if(_f){if(_4){_4.removeAttribute("selected");sendEvent("blur",_4);_4=null;}if(hasClass(_f,"dialog")){sendEvent("focus",_f);showDialog(_f);}else{sendEvent("load",_f);var _11=_3;sendEvent("blur",_3);_3=_f;sendEvent("focus",_f);if(_11){if(_10){sendEvent("unload",_11);}setTimeout(slidePages,0,_11,_f,_10);}else{updatePage(_f,_11);}}}},showPageById:function(_12){var _13=$(_12);if(_13){var _14=_9.indexOf(_12);var _15=_14!=-1;if(_15){_9.splice(_14);}iui.showPage(_13,_15);}},goBack:function(){_9.pop();var _16=_9.pop();var _17=$(_16);iui.showPage(_17,true);},showPageByHref:function(_18,_19,_1a,_1b,cb){function spbhCB(xhr){if(xhr.readyState==4){var _1e=document.createElement("div");_1e.innerHTML=xhr.responseText;sendEvent("beforeinsert",document.body,{fragment:_1e});if(_1b){replaceElementWithFrag(_1b,_1e);}else{iui.insertPages(_1e);}if(cb){setTimeout(cb,1000,true);}}}iui.ajax(_18,_19,_1a,spbhCB);},ajax:function(url,_20,_21,cb){var xhr=new XMLHttpRequest();_21=_21?_21.toUpperCase():"GET";if(_20&&_21=="GET"){url=url+"?"+iui.param(_20);}xhr.open(_21,url,true);if(cb){xhr.onreadystatechange=function(){cb(xhr);};}var _24=null;if(_20&&_21!="GET"){xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");_24=iui.param(_20);}for(var _25 in iui.httpHeaders){xhr.setRequestHeader(_25,iui.httpHeaders[_25]);}xhr.send(_24);},param:function(o){var s=[];for(var key in o){s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(o[key]);}return s.join("&").replace(/%20/g,"+");},insertPages:function(_29){var _2a=_29.childNodes;var _2b;for(var i=0;i<_2a.length;++i){var _2d=_2a[i];if(_2d.nodeType==1){if(!_2d.id){_2d.id="__"+(++_a)+"__";}var _2e=$(_2d.id);var _2f;if(_2e){_2e.parentNode.replaceChild(_2d,_2e);_2f=$(_2d.id);}else{_2f=document.body.appendChild(_2d);}sendEvent("afterinsert",document.body,{insertedNode:_2f});if(_2d.getAttribute("selected")=="true"||!_2b){_2b=_2d;}--i;}}if(_2b){iui.showPage(_2b);}},getSelectedPage:function(){for(var _30=document.body.firstChild;_30;_30=_30.nextSibling){if(_30.nodeType==1&&_30.getAttribute("selected")=="true"){return _30;}}},isNativeUrl:function(_31){for(var i=0;i<iui.nativeUrlPatterns.length;i++){if(_31.match(iui.nativeUrlPatterns[i])){return true;}}return false;},nativeUrlPatterns:[new RegExp("^http://maps.google.com/maps?"),new RegExp("^mailto:"),new RegExp("^tel:"),new RegExp("^http://www.youtube.com/watch\\?v="),new RegExp("^http://www.youtube.com/v/"),new RegExp("^javascript:"),],hasClass:function(_33,_34){var re=new RegExp("(^|\\s)"+_34+"($|\\s)");return re.exec(_33.getAttribute("class"))!=null;},addClass:function(_36,_37){if(!iui.hasClass(_36,_37)){_36.className+=" "+_37;}},removeClass:function(_38,_39){if(iui.hasClass(_38,_39)){var reg=new RegExp("(\\s|^)"+_39+"(\\s|$)");_38.className=_38.className.replace(reg," ");}}};addEventListener("load",function(_3b){var _3c=iui.getSelectedPage();var _3d=getPageFromLoc();if(_3c){iui.showPage(_3c);}if(_3d&&(_3d!=_3c)){iui.showPage(_3d);}setTimeout(preloadImages,0);if(typeof window.onorientationchange=="object"){window.onorientationchange=orientChangeHandler;_c=true;setTimeout(orientChangeHandler,0);}setTimeout(checkOrientAndLocation,0);_b=setInterval(checkOrientAndLocation,300);},false);addEventListener("unload",function(_3e){return;},false);addEventListener("click",function(_3f){var _40=findParent(_3f.target,"a");if(_40){function unselect(){_40.removeAttribute("selected");}if(_40.href&&_40.hash&&_40.hash!="#"&&!_40.target){_40.setAttribute("selected","true");iui.showPage($(_40.hash.substr(1)));setTimeout(unselect,500);}else{if(_40==$("backButton")){iui.goBack();}else{if(_40.getAttribute("type")=="submit"){var _41=findParent(_40,"form");if(_41.target=="_self"){_41.submit();return;}submitForm(_41);}else{if(_40.getAttribute("type")=="cancel"){cancelDialog(findParent(_40,"form"));}else{if(_40.target=="_replace"){_40.setAttribute("selected","progress");iui.showPageByHref(_40.href,null,"GET",_40,unselect);}else{if(iui.isNativeUrl(_40.href)){return;}else{if(_40.target=="_webapp"){location.href=_40.href;}else{if(!_40.target){_40.setAttribute("selected","progress");iui.showPageByHref(_40.href,null,"GET",null,unselect);}else{return;}}}}}}}}_3f.preventDefault();}},true);addEventListener("click",function(_42){var div=findParent(_42.target,"div");if(div&&hasClass(div,"toggle")){div.setAttribute("toggled",div.getAttribute("toggled")!="true");_42.preventDefault();}},true);function sendEvent(_44,_45,_46){if(_45){var _47=document.createEvent("UIEvent");_47.initEvent(_44,false,false);if(_46){for(i in _46){_47[i]=_46[i];}}_45.dispatchEvent(_47);}}function getPageFromLoc(){var _48;var _49=location.hash.match(/#_([^\?_]+)/);if(_49){_48=_49[1];}if(_48){_48=$(_48);}return _48;}function orientChangeHandler(){var _4a=window.orientation;switch(_4a){case 0:setOrientation(_d);break;case 90:case -90:setOrientation(_e);break;}}function checkOrientAndLocation(){if(!_c){if((window.innerWidth!=_5)||(window.innerHeight!=_6)){_5=window.innerWidth;_6=window.innerHeight;var _4b=(_5<_6)?_d:_e;setOrientation(_4b);}}if(location.hash!=_7){var _4c=location.hash.substr(_8.length);iui.showPageById(_4c);}}function setOrientation(_4d){document.body.setAttribute("orient",_4d);if(_4d==_d){iui.removeClass(document.body,_e);iui.addClass(document.body,_d);}else{if(_4d==_e){iui.removeClass(document.body,_d);iui.addClass(document.body,_e);}else{iui.removeClass(document.body,_d);iui.removeClass(document.body,_e);}}setTimeout(scrollTo,100,0,1);}function showDialog(_4e){_4=_4e;_4e.setAttribute("selected","true");if(hasClass(_4e,"dialog")){showForm(_4e);}}function showForm(_4f){_4f.onsubmit=function(_50){_50.preventDefault();submitForm(_4f);};_4f.onclick=function(_51){if(_51.target==_4f&&hasClass(_4f,"dialog")){cancelDialog(_4f);}};}function cancelDialog(_52){_52.removeAttribute("selected");}function updatePage(_53,_54){if(!_53.id){_53.id="__"+(++_a)+"__";}location.hash=_7=_8+_53.id;_9.push(_53.id);var _55=$("pageTitle");if(_53.title){_55.innerHTML=_53.title;}var _56=_53.getAttribute("ttlclass");_55.className=_56?_56:"";if(_53.localName.toLowerCase()=="form"&&!_53.target){showForm(_53);}var _57=$("backButton");if(_57){var _58=$(_9[_9.length-2]);if(_58&&!_53.getAttribute("hideBackButton")){_57.style.display="inline";_57.innerHTML=_58.title?_58.title:"Back";var _59=_58.getAttribute("bbclass");_57.className=(_59)?"button "+_59:"button";}else{_57.style.display="none";}}}function slidePages(_5a,_5b,_5c){var _5d=(_5c?_5a:_5b).getAttribute("axis");clearInterval(_b);sendEvent("beforetransition",_5a,{out:true});sendEvent("beforetransition",_5b,{out:false});if(canDoSlideAnim()&&_5d!="y"){slide2(_5a,_5b,_5c,slideDone);}else{slide1(_5a,_5b,_5c,_5d,slideDone);}function slideDone(){if(!hasClass(_5b,"dialog")){_5a.removeAttribute("selected");}_b=setInterval(checkOrientAndLocation,300);setTimeout(updatePage,0,_5b,_5a);_5a.removeEventListener("webkitTransitionEnd",slideDone,false);sendEvent("aftertransition",_5a,{out:true});sendEvent("aftertransition",_5b,{out:false});}}function canDoSlideAnim(){return (iui.animOn)&&(typeof WebKitCSSMatrix=="object");}function slide1(_5e,_5f,_60,_61,cb){if(_61=="y"){(_60?_5e:_5f).style.top="100%";}else{_5f.style.left="100%";}scrollTo(0,1);_5f.setAttribute("selected","true");var _63=100;slide();var _64=setInterval(slide,_2);function slide(){_63-=_1;if(_63<=0){_63=0;clearInterval(_64);cb();}if(_61=="y"){_60?_5e.style.top=(100-_63)+"%":_5f.style.top=_63+"%";}else{_5e.style.left=(_60?(100-_63):(_63-100))+"%";_5f.style.left=(_60?-_63:_63)+"%";}}}function slide2(_65,_66,_67,cb){_66.style.webkitTransitionDuration="0ms";var _69="translateX("+(_67?"-":"")+window.innerWidth+"px)";var _6a="translateX("+(_67?"100%":"-100%")+")";_66.style.webkitTransform=_69;_66.setAttribute("selected","true");_66.style.webkitTransitionDuration="";function startTrans(){_65.style.webkitTransform=_6a;_66.style.webkitTransform="translateX(0%)";}_65.addEventListener("webkitTransitionEnd",cb,false);setTimeout(startTrans,0);}function preloadImages(){var _6b=document.createElement("div");_6b.id="preloader";document.body.appendChild(_6b);}function submitForm(_6c){iui.addClass(_6c,"progress");iui.showPageByHref(_6c.action,encodeForm(_6c),_6c.method||"GET",null,clear);function clear(){iui.removeClass(_6c,"progress");}}function encodeForm(_6d){function encode(_6e){for(var i=0;i<_6e.length;++i){if(_6e[i].name){args[_6e[i].name]=_6e[i].value;}}}var _70={};encode(_6d.getElementsByTagName("input"));encode(_6d.getElementsByTagName("textarea"));encode(_6d.getElementsByTagName("select"));encode(_6d.getElementsByTagName("button"));return _70;}function findParent(_71,_72){while(_71&&(_71.nodeType!=1||_71.localName.toLowerCase()!=_72)){_71=_71.parentNode;}return _71;}function hasClass(_73,_74){return iui.hasClass(_73,_74);}function replaceElementWithFrag(_75,_76){var _77=_75.parentNode;var _78=_75;while(_77.parentNode!=document.body){_77=_77.parentNode;_78=_78.parentNode;}_77.removeChild(_78);var _79;while(_76.firstChild){_79=_77.appendChild(_76.firstChild);sendEvent("afterinsert",document.body,{insertedNode:_79});}}function $(id){return document.getElementById(id);}function ddd(){console.log.apply(console,arguments);}})();